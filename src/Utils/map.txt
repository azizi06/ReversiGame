#include "../include/map.h"
#include <stdlib.h>
#include <stdio.h>
void add_node( struct Map *self, int key[ROWS][COLUMNS], float value)
{
    printf("adding new node to the map...");
    struct Node *head = self->head;
    struct Node *newNode = malloc(sizeof(struct Node));
    newNode->key = malloc(ROWS * sizeof(int *));
    for (int i = 0; i < COLUMNS; i++)
    {
        newNode->key[i] = malloc(sizeof(int));
    }

    for (int i = 0; i < ROWS; i++)
    {
        for (int j = 0; j < COLUMNS; j++)
        {
            newNode->key[i][j] = 0;
        }
    }
    newNode->value = value;
    newNode->next = NULL;
    
    while (head->next != NULL)
    {
        head = head->next;
    }
    head->next = newNode;
    self->count+=1;

    
    

}
void delete_node( struct Map *self, int key[ROWS][COLUMNS]) {

}
void print_map(struct Map *map)
{
    struct Node *current = map->head;
    while (current != NULL)
    {
        printf("value : %f", current->value);
        current = current->next;
    };
};
struct Map *map_new()
{
    struct Map *p = malloc(sizeof(struct Map));
    p->head = NULL;
    p->count = 0;
    p->add = &add_node;
    p->del = &delete_node;
    p->print = &print_map;

    return p;
}
